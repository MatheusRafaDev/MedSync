CREATE TABLE TB_MEDICO (
    ID_MEDICO INT PRIMARY KEY AUTO_INCREMENT,
    NM_MEDICO VARCHAR(100) NOT NULL,
    NR_CRM VARCHAR(20) NOT NULL,
    DS_ESPECIALIDADE VARCHAR(100),
    VL_EMAIL VARCHAR(100) NOT NULL UNIQUE,
    VL_SENHA VARCHAR(255) NOT NULL,
    ST_ATIVO BOOLEAN DEFAULT TRUE
);

CREATE TABLE TB_PACIENTE (
    ID_PACIENTE INT PRIMARY KEY AUTO_INCREMENT,
    NM_PACIENTE VARCHAR(100) NOT NULL,
    DT_NASCIMENTO DATE,
    NR_CPF VARCHAR(14) UNIQUE,
    VL_EMAIL VARCHAR(100) NOT NULL UNIQUE,
    VL_SENHA VARCHAR(255) NOT NULL,
    NR_TELEFONE VARCHAR(20),
    DS_GENERO VARCHAR(20)
);

CREATE TABLE TB_PACIENTE_DOCUMENTO (
    ID_DOCUMENTO INT PRIMARY KEY AUTO_INCREMENT,
    ID_PACIENTE INT NOT NULL,
    DS_TIPO_DOCUMENTO VARCHAR(50),
    VL_CAMINHO_ARQUIVO TEXT,
    FOREIGN KEY (ID_PACIENTE) REFERENCES TB_PACIENTE(ID_PACIENTE)
);

CREATE TABLE TB_HORARIO_MEDICO (
    ID_HORARIO INT PRIMARY KEY AUTO_INCREMENT,
    ID_MEDICO INT NOT NULL,
    DS_DIA_SEMANA VARCHAR(20),
    HR_INICIO TIME,
    HR_FIM TIME,
    FOREIGN KEY (ID_MEDICO) REFERENCES TB_MEDICO(ID_MEDICO)
);

CREATE TABLE TB_CONSULTA (
    ID_CONSULTA INT PRIMARY KEY AUTO_INCREMENT,
    ID_PACIENTE INT NOT NULL,
    ID_MEDICO INT NOT NULL,
    DT_CONSULTA DATE NOT NULL,
    HR_CONSULTA TIME NOT NULL,
    DS_STATUS VARCHAR(20),
    VL_VALOR DECIMAL(10,2),
    FOREIGN KEY (ID_PACIENTE) REFERENCES TB_PACIENTE(ID_PACIENTE),
    FOREIGN KEY (ID_MEDICO) REFERENCES TB_MEDICO(ID_MEDICO)
);

CREATE TABLE TB_PRONTUARIO (
    ID_PRONTUARIO INT PRIMARY KEY AUTO_INCREMENT,
    ID_CONSULTA INT NOT NULL,
    DS_DIAGNOSTICO TEXT,
    DS_RECEITA TEXT,
    DS_EXAMES TEXT,
    FOREIGN KEY (ID_CONSULTA) REFERENCES TB_CONSULTA(ID_CONSULTA)
);

CREATE TABLE TB_PAGAMENTO (
    ID_PAGAMENTO INT PRIMARY KEY AUTO_INCREMENT,
    ID_CONSULTA INT NOT NULL,
    VL_PAGO DECIMAL(10,2),
    DT_PAGAMENTO DATE,
    DS_FORMA_PAGAMENTO VARCHAR(50),
    FOREIGN KEY (ID_CONSULTA) REFERENCES TB_CONSULTA(ID_CONSULTA)
);

CREATE TABLE TB_RELATORIO_LOG (
    ID_RELATORIO INT PRIMARY KEY AUTO_INCREMENT,
    TP_RELATORIO VARCHAR(50),
    DT_GERACAO TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    DS_FILTRO TEXT
);

CREATE TABLE TB_USUARIO_INTERNO (
    ID_USUARIO INT PRIMARY KEY AUTO_INCREMENT,
    NM_USUARIO VARCHAR(100),
    VL_EMAIL VARCHAR(100) UNIQUE,
    VL_SENHA VARCHAR(255),
    DS_PERFIL VARCHAR(50)
);

CREATE TABLE TB_CONFIGURACAO (
    ID_CONFIG INT PRIMARY KEY AUTO_INCREMENT,
    DS_CHAVE VARCHAR(100),
    VL_VALOR TEXT
);
