CREATE TABLE TB_USUARIOS (
    ID_USUARIO INT PRIMARY KEY AUTO_INCREMENT,
    DS_NOME VARCHAR(100) NOT NULL,
    DS_EMAIL VARCHAR(100) UNIQUE NOT NULL,
    DS_SENHA VARCHAR(255) NOT NULL,
    DS_PERFIL ENUM('Recepcionista', 'MÃ©dico', 'Administrador') NOT NULL
);

CREATE TABLE TB_PACIENTES (
    ID_PACIENTE INT PRIMARY KEY AUTO_INCREMENT,
    DS_NOME VARCHAR(100) NOT NULL,
    DS_CPF VARCHAR(14) UNIQUE NOT NULL,
    DT_NASCIMENTO DATE NOT NULL,
    DS_TELEFONE VARCHAR(20),
    DS_ENDERECO TEXT,
    DS_PLANO_SAUDE VARCHAR(50)
);

CREATE TABLE TB_MEDICOS (
    ID_MEDICO INT PRIMARY KEY AUTO_INCREMENT,
    DS_NOME VARCHAR(100) NOT NULL,
    DS_ESPECIALIDADE VARCHAR(100) NOT NULL,
    DS_CRM VARCHAR(20) UNIQUE NOT NULL
);

CREATE TABLE TB_CONSULTAS (
    ID_CONSULTA INT PRIMARY KEY AUTO_INCREMENT,
    ID_PACIENTE INT,
    ID_MEDICO INT,
    DT_CONSULTA DATETIME NOT NULL,
    DS_STATUS ENUM('Agendada', 'Realizada', 'Cancelada') DEFAULT 'Agendada',
    DS_OBSERVACOES TEXT,
    FOREIGN KEY (ID_PACIENTE) REFERENCES TB_PACIENTES(ID_PACIENTE),
    FOREIGN KEY (ID_MEDICO) REFERENCES TB_MEDICOS(ID_MEDICO)
);

CREATE TABLE TB_PRONTUARIOS (
    ID_PRONTUARIO INT PRIMARY KEY AUTO_INCREMENT,
    ID_PACIENTE INT,
    ID_MEDICO INT,
    DT_REGISTRO DATETIME DEFAULT CURRENT_TIMESTAMP,
    DS_DESCRICAO TEXT,
    FOREIGN KEY (ID_PACIENTE) REFERENCES TB_PACIENTES(ID_PACIENTE),
    FOREIGN KEY (ID_MEDICO) REFERENCES TB_MEDICOS(ID_MEDICO)
);

CREATE TABLE TB_RECEITAS (
    ID_RECEITA INT PRIMARY KEY AUTO_INCREMENT,
    ID_CONSULTA INT,
    DS_MEDICAMENTOS TEXT NOT NULL,
    DS_ORIENTACOES TEXT,
    DT_EMISSAO DATETIME DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (ID_CONSULTA) REFERENCES TB_CONSULTAS(ID_CONSULTA)
);
